{% extends "layout.html" %}

{% block title %} Your Profile {% endblock %}

{% block main %}
    <div class="container">
        <h1>Your Portfolio</h1>
        <hr>
        <h2 style="text-decoration: none;" class="mb-3">Welcome {{name}}</h2>
        {% with messages = get_flashed_messages(category_filter=["message"]) %}
            {% if messages %}
                <div class="alert alert-success w-auto"><i class="fa-solid fa-circle-check me-1"></i>{{messages[0]}}</div>
            {% endif %}
        {% endwith %}
        {% with messages = get_flashed_messages(category_filter=["error"]) %}
            {% if messages %}
                <div class="alert alert-danger w-auto"><i class="fa-solid fa-circle-xmark me-1"></i>{{messages[0]}}</div>
            {% endif %}
        {% endwith %}
        <div class="d-flex flex-column justify-content-evenly align-items-center flex-lg-row mb-3">
            <form style="text-align: center;" class="mb-3" method="post">
                <label for="base" class="form-label">Change Default Base</label>
                <select class="form-select mb-3 w-auto" name="newbase" id="base">
                    <option selected value="">Select New Base</option>
                    {% for symbol in currencies %}
                    <option value="{{symbol}}">{{currencies[symbol]}}</option>
                    {% endfor %}
                </select>
                <button type="submit" class="btn btn-info mb-3">Update</button>
            </form>
            <div><a href="{{url_for('changepass')}}" class="btn btn-success my-3">Change Password</a></div>
        </div>
    </div>
{% endblock %}